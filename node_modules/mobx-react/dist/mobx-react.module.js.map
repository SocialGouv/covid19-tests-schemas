{"version":3,"file":"mobx-react.module.js","sources":["../src/utils/utils.js","../src/observerClass.js","../src/observer.js","../src/Provider.js","../src/inject.js","../src/disposeOnUnmount.js","../src/propTypes.js","../src/index.js"],"sourcesContent":["let symbolId = 0\nfunction createSymbol(name) {\n    if (typeof Symbol === \"function\") {\n        return Symbol(name)\n    }\n    const symbol = `__$mobx-react ${name} (${symbolId})`\n    symbolId++\n    return symbol\n}\n\nconst createdSymbols = {}\nexport function newSymbol(name) {\n    if (!createdSymbols[name]) {\n        createdSymbols[name] = createSymbol(name)\n    }\n    return createdSymbols[name]\n}\n\nexport function shallowEqual(objA, objB) {\n    //From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n    if (is(objA, objB)) return true\n    if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n        return false\n    }\n    const keysA = Object.keys(objA)\n    const keysB = Object.keys(objB)\n    if (keysA.length !== keysB.length) return false\n    for (let i = 0; i < keysA.length; i++) {\n        if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n            return false\n        }\n    }\n    return true\n}\n\nfunction is(x, y) {\n    // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n    if (x === y) {\n        return x !== 0 || 1 / x === 1 / y\n    } else {\n        return x !== x && y !== y\n    }\n}\n\n// based on https://github.com/mridgway/hoist-non-react-statics/blob/master/src/index.js\nconst hoistBlackList = {\n    $$typeof: 1,\n    render: 1,\n    compare: 1,\n    type: 1,\n    childContextTypes: 1,\n    contextType: 1,\n    contextTypes: 1,\n    defaultProps: 1,\n    getDefaultProps: 1,\n    getDerivedStateFromError: 1,\n    getDerivedStateFromProps: 1,\n    mixins: 1,\n    propTypes: 1\n}\n\nexport function copyStaticProperties(base, target) {\n    const protoProps = Object.getOwnPropertyNames(Object.getPrototypeOf(base))\n    Object.getOwnPropertyNames(base).forEach(key => {\n        if (!hoistBlackList[key] && protoProps.indexOf(key) === -1) {\n            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(base, key))\n        }\n    })\n}\n\n/**\n * Helper to set `prop` to `this` as non-enumerable (hidden prop)\n * @param target\n * @param prop\n * @param value\n */\nexport function setHiddenProp(target, prop, value) {\n    if (!Object.hasOwnProperty.call(target, prop)) {\n        Object.defineProperty(target, prop, {\n            enumerable: false,\n            configurable: true,\n            writable: true,\n            value\n        })\n    } else {\n        target[prop] = value\n    }\n}\n\n/**\n * Utilities for patching componentWillUnmount, to make sure @disposeOnUnmount works correctly icm with user defined hooks\n * and the handler provided by mobx-react\n */\nconst mobxMixins = newSymbol(\"patchMixins\")\nconst mobxPatchedDefinition = newSymbol(\"patchedDefinition\")\n\nfunction getMixins(target, methodName) {\n    const mixins = (target[mobxMixins] = target[mobxMixins] || {})\n    const methodMixins = (mixins[methodName] = mixins[methodName] || {})\n    methodMixins.locks = methodMixins.locks || 0\n    methodMixins.methods = methodMixins.methods || []\n    return methodMixins\n}\n\nfunction wrapper(realMethod, mixins, ...args) {\n    // locks are used to ensure that mixins are invoked only once per invocation, even on recursive calls\n    mixins.locks++\n\n    try {\n        let retVal\n        if (realMethod !== undefined && realMethod !== null) {\n            retVal = realMethod.apply(this, args)\n        }\n\n        return retVal\n    } finally {\n        mixins.locks--\n        if (mixins.locks === 0) {\n            mixins.methods.forEach(mx => {\n                mx.apply(this, args)\n            })\n        }\n    }\n}\n\nfunction wrapFunction(realMethod, mixins) {\n    const fn = function(...args) {\n        wrapper.call(this, realMethod, mixins, ...args)\n    }\n    return fn\n}\n\nexport function patch(target, methodName, mixinMethod) {\n    const mixins = getMixins(target, methodName)\n\n    if (mixins.methods.indexOf(mixinMethod) < 0) {\n        mixins.methods.push(mixinMethod)\n    }\n\n    const oldDefinition = Object.getOwnPropertyDescriptor(target, methodName)\n    if (oldDefinition && oldDefinition[mobxPatchedDefinition]) {\n        // already patched definition, do not repatch\n        return\n    }\n\n    const originalMethod = target[methodName]\n    const newDefinition = createDefinition(\n        target,\n        methodName,\n        oldDefinition ? oldDefinition.enumerable : undefined,\n        mixins,\n        originalMethod\n    )\n\n    Object.defineProperty(target, methodName, newDefinition)\n}\n\nfunction createDefinition(target, methodName, enumerable, mixins, originalMethod) {\n    let wrappedFunc = wrapFunction(originalMethod, mixins)\n\n    return {\n        [mobxPatchedDefinition]: true,\n        get: function() {\n            return wrappedFunc\n        },\n        set: function(value) {\n            if (this === target) {\n                wrappedFunc = wrapFunction(value, mixins)\n            } else {\n                // when it is an instance of the prototype/a child prototype patch that particular case again separately\n                // since we need to store separate values depending on wether it is the actual instance, the prototype, etc\n                // e.g. the method for super might not be the same as the method for the prototype which might be not the same\n                // as the method for the instance\n                const newDefinition = createDefinition(this, methodName, enumerable, mixins, value)\n                Object.defineProperty(this, methodName, newDefinition)\n            }\n        },\n        configurable: true,\n        enumerable: enumerable\n    }\n}\n","import { PureComponent, Component } from \"react\"\nimport { createAtom, _allowStateChanges, Reaction, $mobx } from \"mobx\"\nimport { isUsingStaticRendering } from \"mobx-react-lite\"\n\nimport { newSymbol, shallowEqual, setHiddenProp, patch } from \"./utils/utils\"\n\nconst mobxAdminProperty = $mobx || \"$mobx\"\nconst mobxIsUnmounted = newSymbol(\"isUnmounted\")\nconst skipRenderKey = newSymbol(\"skipRender\")\nconst isForcingUpdateKey = newSymbol(\"isForcingUpdate\")\n\nexport function makeClassComponentObserver(componentClass) {\n    const target = componentClass.prototype\n    if (target.componentWillReact)\n        throw new Error(\"The componentWillReact life-cycle event is no longer supported\")\n    if (componentClass.__proto__ !== PureComponent) {\n        if (!target.shouldComponentUpdate) target.shouldComponentUpdate = observerSCU\n        else if (target.shouldComponentUpdate !== observerSCU)\n            // n.b. unequal check, instead of existence check, as @observer might be on superclass as well\n            throw new Error(\n                \"It is not allowed to use shouldComponentUpdate in observer based components.\"\n            )\n    }\n\n    // this.props and this.state are made observable, just to make sure @computed fields that\n    // are defined inside the component, and which rely on state or props, re-compute if state or props change\n    // (otherwise the computed wouldn't update and become stale on props change, since props are not observable)\n    // However, this solution is not without it's own problems: https://github.com/mobxjs/mobx-react/issues?utf8=%E2%9C%93&q=is%3Aissue+label%3Aobservable-props-or-not+\n    makeObservableProp(target, \"props\")\n    makeObservableProp(target, \"state\")\n\n    const baseRender = target.render\n    target.render = function() {\n        return makeComponentReactive.call(this, baseRender)\n    }\n    patch(target, \"componentWillUnmount\", function() {\n        if (isUsingStaticRendering() === true) return\n        if (this.render[mobxAdminProperty]) {\n            this.render[mobxAdminProperty].dispose()\n        } else if (process.env.NODE_ENV !== \"production\") {\n            const displayName = getDisplayName(this)\n            console.warn(\n                `The render function for an observer component (${displayName}) was modified after MobX attached. This is not supported, since the new function can't be triggered by MobX.`\n            )\n        }\n        this[mobxIsUnmounted] = true\n    })\n    return componentClass\n}\n\n// Generates a friendly name for debugging\nfunction getDisplayName(comp) {\n    return (\n        comp.displayName ||\n        comp.name ||\n        (comp.constructor && (comp.constructor.displayName || comp.constructor.name)) ||\n        \"<component>\"\n    )\n}\n\nfunction makeComponentReactive(render) {\n    if (isUsingStaticRendering() === true) return render.call(this)\n\n    /**\n     * If props are shallowly modified, react will render anyway,\n     * so atom.reportChanged() should not result in yet another re-render\n     */\n    setHiddenProp(this, skipRenderKey, false)\n    /**\n     * forceUpdate will re-assign this.props. We don't want that to cause a loop,\n     * so detect these changes\n     */\n    setHiddenProp(this, isForcingUpdateKey, false)\n\n    const initialName = getDisplayName(this)\n    const baseRender = render.bind(this)\n\n    let isRenderingPending = false\n\n    const reaction = new Reaction(`${initialName}.render()`, () => {\n        if (!isRenderingPending) {\n            // N.B. Getting here *before mounting* means that a component constructor has side effects (see the relevant test in misc.js)\n            // This unidiomatic React usage but React will correctly warn about this so we continue as usual\n            // See #85 / Pull #44\n            isRenderingPending = true\n            if (this[mobxIsUnmounted] !== true) {\n                let hasError = true\n                try {\n                    setHiddenProp(this, isForcingUpdateKey, true)\n                    if (!this[skipRenderKey]) Component.prototype.forceUpdate.call(this)\n                    hasError = false\n                } finally {\n                    setHiddenProp(this, isForcingUpdateKey, false)\n                    if (hasError) reaction.dispose()\n                }\n            }\n        }\n    })\n    reaction.reactComponent = this\n    reactiveRender[mobxAdminProperty] = reaction\n    this.render = reactiveRender\n\n    function reactiveRender() {\n        isRenderingPending = false\n        let exception = undefined\n        let rendering = undefined\n        reaction.track(() => {\n            try {\n                rendering = _allowStateChanges(false, baseRender)\n            } catch (e) {\n                exception = e\n            }\n        })\n        if (exception) {\n            throw exception\n        }\n        return rendering\n    }\n\n    return reactiveRender.call(this)\n}\n\nfunction observerSCU(nextProps, nextState) {\n    if (isUsingStaticRendering()) {\n        console.warn(\n            \"[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.\"\n        )\n    }\n    // update on any state changes (as is the default)\n    if (this.state !== nextState) {\n        return true\n    }\n    // update if props are shallowly not equal, inspired by PureRenderMixin\n    // we could return just 'false' here, and avoid the `skipRender` checks etc\n    // however, it is nicer if lifecycle events are triggered like usually,\n    // so we return true here if props are shallowly modified.\n    return !shallowEqual(this.props, nextProps)\n}\n\nfunction makeObservableProp(target, propName) {\n    const valueHolderKey = newSymbol(`reactProp_${propName}_valueHolder`)\n    const atomHolderKey = newSymbol(`reactProp_${propName}_atomHolder`)\n    function getAtom() {\n        if (!this[atomHolderKey]) {\n            setHiddenProp(this, atomHolderKey, createAtom(\"reactive \" + propName))\n        }\n        return this[atomHolderKey]\n    }\n    Object.defineProperty(target, propName, {\n        configurable: true,\n        enumerable: true,\n        get: function() {\n            getAtom.call(this).reportObserved()\n            return this[valueHolderKey]\n        },\n        set: function set(v) {\n            if (!this[isForcingUpdateKey] && !shallowEqual(this[valueHolderKey], v)) {\n                setHiddenProp(this, valueHolderKey, v)\n                setHiddenProp(this, skipRenderKey, true)\n                getAtom.call(this).reportChanged()\n                setHiddenProp(this, skipRenderKey, false)\n            } else {\n                setHiddenProp(this, valueHolderKey, v)\n            }\n        }\n    })\n}\n","/* eslint-disable react/display-name */\nimport React, { Component, forwardRef, memo } from \"react\"\nimport { observer as observerLite, Observer } from \"mobx-react-lite\"\n\nimport { makeClassComponentObserver } from \"./observerClass\"\n\nconst hasSymbol = typeof Symbol === \"function\" && Symbol.for\n\n// Using react-is had some issues (and operates on elements, not on types), see #608 / #609\nconst ReactForwardRefSymbol = hasSymbol\n    ? Symbol.for(\"react.forward_ref\")\n    : typeof forwardRef === \"function\" && forwardRef(() => {})[\"$$typeof\"]\n\nconst ReactMemoSymbol = hasSymbol\n    ? Symbol.for(\"react.memo\")\n    : typeof memo === \"function\" && memo(() => {})[\"$$typeof\"]\n\n/**\n * Observer function / decorator\n */\nexport function observer(componentClass) {\n    if (componentClass.isMobxInjector === true) {\n        console.warn(\n            \"Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'\"\n        )\n    }\n\n    if (ReactMemoSymbol && componentClass[\"$$typeof\"] === ReactMemoSymbol) {\n        throw new Error(\n            \"Mobx observer: You are trying to use 'observer' on function component wrapped to either another observer or 'React.memo'. The observer already applies 'React.memo' for you.\"\n        )\n    }\n\n    // Unwrap forward refs into `<Observer>` component\n    // we need to unwrap the render, because it is the inner render that needs to be tracked,\n    // not the ForwardRef HoC\n    if (ReactForwardRefSymbol && componentClass[\"$$typeof\"] === ReactForwardRefSymbol) {\n        const baseRender = componentClass.render\n        if (typeof baseRender !== \"function\")\n            throw new Error(\"render property of ForwardRef was not a function\")\n        return forwardRef(function ObserverForwardRef() {\n            return <Observer>{() => baseRender.apply(undefined, arguments)}</Observer>\n        })\n    }\n\n    // Function component\n    if (\n        typeof componentClass === \"function\" &&\n        (!componentClass.prototype || !componentClass.prototype.render) &&\n        !componentClass.isReactClass &&\n        !Object.prototype.isPrototypeOf.call(Component, componentClass)\n    ) {\n        return observerLite(componentClass)\n    }\n\n    return makeClassComponentObserver(componentClass)\n}\n","/* eslint-disable react/prop-types */\nimport React from \"react\"\nimport { shallowEqual } from \"./utils/utils\"\n\nexport const MobXProviderContext = React.createContext({})\n\nexport function Provider({ children, ...stores }) {\n    const parentValue = React.useContext(MobXProviderContext)\n    const value = React.useRef({\n        ...parentValue,\n        ...stores\n    }).current\n\n    if (process && typeof process.env !== \"undefined\" && process.env.NODE_ENV !== \"production\") {\n        const newValue = { ...value, ...stores } // spread in previous state for the context based stores\n        if (!shallowEqual(value, newValue)) {\n            throw new Error(\n                \"MobX Provider: The set of provided stores has changed. See: https://github.com/mobxjs/mobx-react#the-set-of-provided-stores-has-changed-error.\"\n            )\n        }\n    }\n\n    return <MobXProviderContext.Provider value={value}>{children}</MobXProviderContext.Provider>\n}\n\nProvider.displayName = \"MobXProvider\"\n","import React, { createElement } from \"react\"\nimport { observer } from \"./observer\"\nimport { copyStaticProperties } from \"./utils/utils\"\nimport { MobXProviderContext } from \"./Provider\"\n\n/**\n * Store Injection\n */\nfunction createStoreInjector(grabStoresFn, component, injectNames, makeReactive) {\n    // Support forward refs\n    let Injector = React.forwardRef((props, ref) => {\n        const newProps = { ...props }\n        const context = React.useContext(MobXProviderContext)\n        Object.assign(newProps, grabStoresFn(context || {}, newProps) || {})\n\n        if (ref) {\n            newProps.ref = ref\n        }\n\n        return createElement(component, newProps)\n    })\n\n    if (makeReactive) Injector = observer(Injector)\n    Injector.isMobxInjector = true // assigned late to suppress observer warning\n\n    // Static fields from component should be visible on the generated Injector\n    copyStaticProperties(component, Injector)\n    Injector.wrappedComponent = component\n    Injector.displayName = getInjectName(component, injectNames)\n    return Injector\n}\n\nfunction getInjectName(component, injectNames) {\n    let displayName\n    const componentName =\n        component.displayName ||\n        component.name ||\n        (component.constructor && component.constructor.name) ||\n        \"Component\"\n    if (injectNames) displayName = \"inject-with-\" + injectNames + \"(\" + componentName + \")\"\n    else displayName = \"inject(\" + componentName + \")\"\n    return displayName\n}\n\nfunction grabStoresByName(storeNames) {\n    return function(baseStores, nextProps) {\n        storeNames.forEach(function(storeName) {\n            if (\n                storeName in nextProps // prefer props over stores\n            )\n                return\n            if (!(storeName in baseStores))\n                throw new Error(\n                    \"MobX injector: Store '\" +\n                        storeName +\n                        \"' is not available! Make sure it is provided by some Provider\"\n                )\n            nextProps[storeName] = baseStores[storeName]\n        })\n        return nextProps\n    }\n}\n\n/**\n * higher order component that injects stores to a child.\n * takes either a varargs list of strings, which are stores read from the context,\n * or a function that manually maps the available stores from the context to props:\n * storesToProps(mobxStores, props, context) => newProps\n */\nexport function inject(/* fn(stores, nextProps) or ...storeNames */ ...storeNames) {\n    let grabStoresFn\n    if (typeof arguments[0] === \"function\") {\n        grabStoresFn = arguments[0]\n        return componentClass =>\n            createStoreInjector(grabStoresFn, componentClass, grabStoresFn.name, true)\n    } else {\n        return componentClass =>\n            createStoreInjector(\n                grabStoresByName(storeNames),\n                componentClass,\n                storeNames.join(\"-\"),\n                false\n            )\n    }\n}\n","import * as React from \"react\"\nimport { patch, newSymbol } from \"./utils/utils\"\n\nconst protoStoreKey = newSymbol(\"disposeOnUnmountProto\")\nconst instStoreKey = newSymbol(\"disposeOnUnmountInst\")\n\nfunction runDisposersOnWillUnmount() {\n    ;[...(this[protoStoreKey] || []), ...(this[instStoreKey] || [])].forEach(propKeyOrFunction => {\n        const prop =\n            typeof propKeyOrFunction === \"string\" ? this[propKeyOrFunction] : propKeyOrFunction\n        if (prop !== undefined && prop !== null) {\n            if (Array.isArray(prop)) prop.map(f => f())\n            else prop()\n        }\n    })\n}\n\nexport function disposeOnUnmount(target, propertyKeyOrFunction) {\n    if (Array.isArray(propertyKeyOrFunction)) {\n        return propertyKeyOrFunction.map(fn => disposeOnUnmount(target, fn))\n    }\n\n    const c = Object.getPrototypeOf(target).constructor || Object.getPrototypeOf(target.constructor)\n    const c2 = Object.getPrototypeOf(target.constructor)\n    if (\n        !(\n            c === React.Component ||\n            c === React.PureComponent ||\n            c2 === React.Component ||\n            c2 === React.PureComponent\n        )\n    ) {\n        throw new Error(\n            \"[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.\"\n        )\n    }\n\n    if (\n        typeof propertyKeyOrFunction !== \"string\" &&\n        typeof propertyKeyOrFunction !== \"function\" &&\n        !Array.isArray(propertyKeyOrFunction)\n    ) {\n        throw new Error(\n            \"[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.\"\n        )\n    }\n\n    // decorator's target is the prototype, so it doesn't have any instance properties like props\n    const isDecorator = typeof propertyKeyOrFunction === \"string\"\n\n    // add property key / function we want run (disposed) to the store\n    const componentWasAlreadyModified = !!target[protoStoreKey] || !!target[instStoreKey]\n    const store = isDecorator\n        ? // decorators are added to the prototype store\n          target[protoStoreKey] || (target[protoStoreKey] = [])\n        : // functions are added to the instance store\n          target[instStoreKey] || (target[instStoreKey] = [])\n\n    store.push(propertyKeyOrFunction)\n\n    // tweak the component class componentWillUnmount if not done already\n    if (!componentWasAlreadyModified) {\n        patch(target, \"componentWillUnmount\", runDisposersOnWillUnmount)\n    }\n\n    // return the disposer as is if invoked as a non decorator\n    if (typeof propertyKeyOrFunction !== \"string\") {\n        return propertyKeyOrFunction\n    }\n}\n","import { isObservableArray, isObservableObject, isObservableMap, untracked } from \"mobx\"\n\n// Copied from React.PropTypes\nfunction createChainableTypeChecker(validate) {\n    function checkType(\n        isRequired,\n        props,\n        propName,\n        componentName,\n        location,\n        propFullName,\n        ...rest\n    ) {\n        return untracked(() => {\n            componentName = componentName || \"<<anonymous>>\"\n            propFullName = propFullName || propName\n            if (props[propName] == null) {\n                if (isRequired) {\n                    const actual = props[propName] === null ? \"null\" : \"undefined\"\n                    return new Error(\n                        \"The \" +\n                            location +\n                            \" `\" +\n                            propFullName +\n                            \"` is marked as required \" +\n                            \"in `\" +\n                            componentName +\n                            \"`, but its value is `\" +\n                            actual +\n                            \"`.\"\n                    )\n                }\n                return null\n            } else {\n                return validate(props, propName, componentName, location, propFullName, ...rest)\n            }\n        })\n    }\n\n    const chainedCheckType = checkType.bind(null, false)\n    chainedCheckType.isRequired = checkType.bind(null, true)\n    return chainedCheckType\n}\n\n// Copied from React.PropTypes\nfunction isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === \"symbol\") {\n        return true\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue[\"@@toStringTag\"] === \"Symbol\") {\n        return true\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === \"function\" && propValue instanceof Symbol) {\n        return true\n    }\n\n    return false\n}\n\n// Copied from React.PropTypes\nfunction getPropType(propValue) {\n    const propType = typeof propValue\n    if (Array.isArray(propValue)) {\n        return \"array\"\n    }\n    if (propValue instanceof RegExp) {\n        // Old webkits (at least until Android 4.0) return 'function' rather than\n        // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n        // passes PropTypes.object.\n        return \"object\"\n    }\n    if (isSymbol(propType, propValue)) {\n        return \"symbol\"\n    }\n    return propType\n}\n\n// This handles more types than `getPropType`. Only used for error messages.\n// Copied from React.PropTypes\nfunction getPreciseType(propValue) {\n    const propType = getPropType(propValue)\n    if (propType === \"object\") {\n        if (propValue instanceof Date) {\n            return \"date\"\n        } else if (propValue instanceof RegExp) {\n            return \"regexp\"\n        }\n    }\n    return propType\n}\n\nfunction createObservableTypeCheckerCreator(allowNativeType, mobxType) {\n    return createChainableTypeChecker(function(\n        props,\n        propName,\n        componentName,\n        location,\n        propFullName\n    ) {\n        return untracked(() => {\n            if (allowNativeType) {\n                if (getPropType(props[propName]) === mobxType.toLowerCase()) return null\n            }\n            let mobxChecker\n            switch (mobxType) {\n                case \"Array\":\n                    mobxChecker = isObservableArray\n                    break\n                case \"Object\":\n                    mobxChecker = isObservableObject\n                    break\n                case \"Map\":\n                    mobxChecker = isObservableMap\n                    break\n                default:\n                    throw new Error(`Unexpected mobxType: ${mobxType}`)\n            }\n            const propValue = props[propName]\n            if (!mobxChecker(propValue)) {\n                const preciseType = getPreciseType(propValue)\n                const nativeTypeExpectationMessage = allowNativeType\n                    ? \" or javascript `\" + mobxType.toLowerCase() + \"`\"\n                    : \"\"\n                return new Error(\n                    \"Invalid prop `\" +\n                        propFullName +\n                        \"` of type `\" +\n                        preciseType +\n                        \"` supplied to\" +\n                        \" `\" +\n                        componentName +\n                        \"`, expected `mobx.Observable\" +\n                        mobxType +\n                        \"`\" +\n                        nativeTypeExpectationMessage +\n                        \".\"\n                )\n            }\n            return null\n        })\n    })\n}\n\nfunction createObservableArrayOfTypeChecker(allowNativeType, typeChecker) {\n    return createChainableTypeChecker(function(\n        props,\n        propName,\n        componentName,\n        location,\n        propFullName,\n        ...rest\n    ) {\n        return untracked(() => {\n            if (typeof typeChecker !== \"function\") {\n                return new Error(\n                    \"Property `\" +\n                        propFullName +\n                        \"` of component `\" +\n                        componentName +\n                        \"` has \" +\n                        \"invalid PropType notation.\"\n                )\n            }\n            let error = createObservableTypeCheckerCreator(allowNativeType, \"Array\")(\n                props,\n                propName,\n                componentName\n            )\n            if (error instanceof Error) return error\n            const propValue = props[propName]\n            for (let i = 0; i < propValue.length; i++) {\n                error = typeChecker(\n                    propValue,\n                    i,\n                    componentName,\n                    location,\n                    propFullName + \"[\" + i + \"]\",\n                    ...rest\n                )\n                if (error instanceof Error) return error\n            }\n            return null\n        })\n    })\n}\n\nconst observableArray = createObservableTypeCheckerCreator(false, \"Array\")\nconst observableArrayOf = createObservableArrayOfTypeChecker.bind(null, false)\nconst observableMap = createObservableTypeCheckerCreator(false, \"Map\")\nconst observableObject = createObservableTypeCheckerCreator(false, \"Object\")\nconst arrayOrObservableArray = createObservableTypeCheckerCreator(true, \"Array\")\nconst arrayOrObservableArrayOf = createObservableArrayOfTypeChecker.bind(null, true)\nconst objectOrObservableObject = createObservableTypeCheckerCreator(true, \"Object\")\n\nexport const PropTypes = {\n    observableArray,\n    observableArrayOf,\n    observableMap,\n    observableObject,\n    arrayOrObservableArray,\n    arrayOrObservableArrayOf,\n    objectOrObservableObject\n}\n","import { observable, configure } from \"mobx\"\nimport { Component } from \"react\"\nimport { unstable_batchedUpdates as rdBatched } from \"react-dom\"\n\nif (!Component) throw new Error(\"mobx-react requires React to be available\")\nif (!observable) throw new Error(\"mobx-react requires mobx to be available\")\n\nif (typeof rdBatched === \"function\") configure({ reactionScheduler: rdBatched })\n\nexport {\n    Observer,\n    useObserver,\n    useAsObservableSource,\n    useLocalStore,\n    isUsingStaticRendering,\n    useStaticRendering\n} from \"mobx-react-lite\"\n\nexport { observer } from \"./observer\"\n\nexport { Provider, MobXProviderContext } from \"./Provider\"\nexport { inject } from \"./inject\"\nexport { disposeOnUnmount } from \"./disposeOnUnmount\"\nexport { PropTypes } from \"./propTypes\"\n"],"names":["let","symbolId","createSymbol","name","Symbol","symbol","const","createdSymbols","newSymbol","shallowEqual","objA","objB","is","keysA","Object","keys","keysB","length","i","hasOwnProperty","call","x","y","hoistBlackList","$$typeof","render","compare","type","childContextTypes","contextType","contextTypes","defaultProps","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","copyStaticProperties","base","target","protoProps","getOwnPropertyNames","getPrototypeOf","forEach","key","indexOf","defineProperty","getOwnPropertyDescriptor","setHiddenProp","prop","value","enumerable","configurable","writable","mobxMixins","mobxPatchedDefinition","getMixins","methodName","methodMixins","locks","methods","wrapper","realMethod","retVal","undefined","apply","args","mx","this","wrapFunction","fn","patch","mixinMethod","push","oldDefinition","originalMethod","newDefinition","createDefinition","wrappedFunc","get","set","mobxAdminProperty","$mobx","mobxIsUnmounted","skipRenderKey","isForcingUpdateKey","makeClassComponentObserver","componentClass","prototype","componentWillReact","Error","__proto__","PureComponent","shouldComponentUpdate","observerSCU","makeObservableProp","baseRender","makeComponentReactive","isUsingStaticRendering","dispose","process","env","NODE_ENV","displayName","getDisplayName","console","warn","comp","constructor","initialName","bind","isRenderingPending","reaction","Reaction","hasError","Component","forceUpdate","reactComponent","reactiveRender","exception","rendering","track","_allowStateChanges","e","nextProps","nextState","state","props","propName","valueHolderKey","atomHolderKey","getAtom","createAtom","reportObserved","v","reportChanged","hasSymbol","for","ReactForwardRefSymbol","forwardRef","ReactMemoSymbol","memo","observer","isMobxInjector","ObserverForwardRef","React","arguments","isReactClass","isPrototypeOf","observerLite","MobXProviderContext","createContext","Provider","stores","parentValue","useContext","useRef","current","newValue","children","createStoreInjector","grabStoresFn","component","injectNames","makeReactive","Injector","ref","newProps","context","assign","createElement","wrappedComponent","getInjectName","componentName","grabStoresByName","storeNames","baseStores","storeName","inject","join","protoStoreKey","instStoreKey","runDisposersOnWillUnmount","propKeyOrFunction","Array","isArray","map","f","disposeOnUnmount","propertyKeyOrFunction","c","c2","isDecorator","componentWasAlreadyModified","store","createChainableTypeChecker","validate","checkType","isRequired","location","propFullName","untracked","actual","rest","chainedCheckType","isSymbol","propType","propValue","getPropType","RegExp","getPreciseType","Date","createObservableTypeCheckerCreator","allowNativeType","mobxType","toLowerCase","mobxChecker","isObservableArray","isObservableObject","isObservableMap","preciseType","nativeTypeExpectationMessage","createObservableArrayOfTypeChecker","typeChecker","error","observableArray","observableArrayOf","observableMap","observableObject","arrayOrObservableArray","arrayOrObservableArrayOf","objectOrObservableObject","PropTypes","observable","rdBatched","configure","reactionScheduler"],"mappings":"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"}